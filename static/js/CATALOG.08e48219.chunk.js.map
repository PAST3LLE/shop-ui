{"version":3,"sources":["hooks/useDetectScrollIntoView.ts","components/SmartImg/index.tsx","hooks/useEffectRef.ts","hooks/useStateRef.ts","hooks/useOnResize.ts","utils/navigation.ts","components/Layout/Article.tsx","utils/index.ts","components/Carousel/index.tsx","components/LazyVideo/index.tsx","pages/SingleItem/ItemVideoContent.tsx","components/SizeSelector/index.tsx","components/Modal/index.tsx","components/LargeImageCarouselModal/index.tsx","assets/svg/shipping.svg","pages/SingleItem/AsideWithVideo.tsx","components/Breadcrumb/index.tsx","components/ScrollingIndicator/index.tsx","components/ScrollingContentPage/styleds.ts","assets/svg/pastelle-ivory-outlined.svg","hooks/useScrollingPageAnimation.ts","components/ScrollingContentPage/index.tsx","pages/Catalog/index.tsx"],"names":["useDetectScrollIntoView","elem","options","defaultView","useState","isInView","setIsInView","useEffect","observer","IntersectionObserver","entry","isVisible","isIntersecting","unobserve","observe","disconnect","StyledPicture","styled","picture","DEFAULT_LQ_IP","quality","blur","DEFAULT_TRANSFORMATIONS","pr","BASE_INTERSECTION_OPTIONS","threshold","delay","ApiImage","ikPath","defaultPath","pathSrcSet","transformation","loadInView","lazy","lq","forwardedRef","rest","defaultRefValue","refToObserve","setRefToObserve","refToSet","useRef","useEffectRef","ref","conditionalCheck","current","undefined","root","container","document","useMemo","active","LQIP","derivedTransformations","publicKey","process","urlEndpoint","transformationPosition","src","loading","lqip","Object","entries","map","size","url","media","srcSet","SmartImg","forwardRef","props","displayName","useStateRef","defaultRef","processNode","node","setNode","useCallback","newNode","useOnResize","callback","deps","window","addEventListener","removeEventListener","buildItemUrl","drop","CURRENT_DROP","identifier","BG_RATIO","BG_HEIGHT_RATIOS","extraSmall","MEDIA_WIDTHS","upToExtraSmall","small","upToSmall","medium","upToMedium","large","upToLarge","extraLarge","upToExtraLarge","portugalBg","DEFAULT_IK_TRANSFORMS","HQ","portugalBgLq","LQ","ArticleFadeInContainer","article","fromSmall","fromMedium","fromLarge","fromExtraLarge","fadeInAnimation","parser","UAParser","navigator","userAgent","type","getDevice","isMobile","getResult","CarouselStepWithoutRef","index","imageProps","buttonColor","transformAmount","parentWidth","showCarouselContentIndicators","isMultipleCarousel","onImageClick","onNext","onPrev","id","justifyContent","$transformAmount","$width","onClick","CarouselStep","Carousel","fixedHeight","imageList","mediaStartIndex","loadInViewOptions","fullSizeContent","onCarouselChange","setParentWidth","selectedStep","setSelectedStep","length","lastStepIndex","carouselContainer","setCarouselContainerRef","parentElement","offsetWidth","focus","smartImageTransformation","width","clientWidth","defaultUrl","urlRest","isLastStep","calculatedWidth","e","stopPropagation","indexToSet","VideoContainer","Row","ItemHeader","Spinner","label","itemColor","getThemeColours","ThemeModes","CHAMELEON","blue1","animation","BASE_VIDEO_PROPS","loop","muted","autoPlay","preload","trackVisibility","sourcesProps","videoProps","Loader","boxProps","dataLoaded","setDataLoaded","metaDataLoaded","setMetaDataLoaded","loaded","videoElement","setVideoElement","video","_handleDataLoad","_handleMetaDataLoad","sourceProps","ItemVideoContent","videos","currentCarouselIndex","firstPaintOver","videoStatus","setVideoStatus","handleOnPlaying","handleOnPaused","isPaused","toggleVideo","play","pause","sources","querySelector","style","marginLeft","mimeType","filter","height","variant","ButtonVariations","SECONDARY","color","fill","SquareSelectDiv","TYPE","black","GridSelect","theme","white","transparentize","SizeSelector","sizes","styleProps","DEFAULT_SIZE_SELECTED","setSize","onChange","handleSetSize","AnimatedDialogOverlay","animated","DialogOverlay","StyledDialogOverlay","modalBG","AnimatedDialogContent","DialogContent","StyledDialogContent","minHeight","maxHeight","mobile","isOpen","isLargeImageModal","attrs","bg0","shadow1","css","mediaWidth","LargeImageModal","onDismiss","initialFocusRef","className","children","fadeTransition","useTransition","config","duration","from","opacity","enter","leave","useSpring","y","mass","tension","friction","set","bind","useGesture","onDrag","state","down","movement","direction","styles","item","unstable_lockFocusAcrossFrames","transform","to","tabIndex","background","position","bottom","left","right","margin","padding","textAlign","CarouselContainer","CarouselButtonContainer","LargeImageCarouselModal","dismissModal","carouselProps","Breadcrumbs","breadcrumbs","lastCrumb","rowProps","top","zIndex","crumb","isLastCrumb","ItemPage","bgColor","title","logo","navLogo","headerLogo","images","description","artistInfo","isActive","catalogView","noVideo","noDescription","showBreadCrumbs","handleMobileItemClick","setCurrentCarouselIndex","toggleModal","useToggleModal","ApplicationModal","ITEM_LARGE_IMAGE","closeModals","useCloseModals","showLargeImage","useModalOpen","useGetCatalogDetailsFromURL","params","slice","pop","useBreadcrumb","imageUrls","getImageSizeMap","setOnScreenId","useSetOnScreenItemID","innerContainerRef","setRef","DynamicInnerContainer","InnerCatalogContainer","InnerContainer","catalogLogo","STORE_IMAGE_SIZES","LARGE","marginTop","marginBottom","logoUri","$bgColor","$marginTop","alignItems","useGradient","PASTELLE_CREDIT","ShippingSvg","dangerouslySetInnerHTML","__html","Wrapper","div","ScrollingContentIndicator","baseContentMessage","onlyOne","AnimatedDivContainer","a","$maxWidth","Scroller","ScrollerContainer","CONFIG","MAC_SPRING_CONFIG","MOBILE_SPRING_CONFIG","_calcAnchorPos","point","mult","b","c","range","highPoint","Math","ceil","_getLimits","limitA","limitB","abs","_getNearestAxisPoint","multiple","ScrollingContentPage","data","dataItem","showIndicator","onContentClick","IterableComponent","indicatorProps","items","visible","snapOnScroll","scaleOptions","scaleOnScroll","initialScale","prev","target","setContainerRef","min","clientHeight","setHeightRef","_handleWindowResize","setTargetRef","currentIndex","setCurrentIndex","Set","restSet","setRestSet","useSprings","i","scale","onRest","has","add","springs","api","getIndex","l","getPos","firstVisible","firstVisibleIndex","calculateApiLogic","dy","my","firstVis","firstVisIdx","prevPosition","rank","yPos","max","anchorPoint","immediate","runSprings","itemPosition","floor","start","wheelOffset","dragOffset","offset","aY","computedY","onWheel","event","preventDefault","eventOptions","passive","useScrollingPageAnimation","loadText","PastelleIvoryOutlined","CATALOG_MAX_WIDTH","itemIndex","Catalog","push","useHistory","useCurrentCollectionProductsFromUrl","products","currentProduct","onScreenItemId","useOnScreenItemID","AsideWithVideoAux","SMALL"],"mappings":"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","file":"static/js/CATALOG.08e48219.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\nexport type LoadInView = {\n  container: Document | Element\n  conditionalCheck?: boolean\n}\nexport default function useDetectScrollIntoView(\n  elem: HTMLElement | null | undefined,\n  options: IntersectionObserverInit | undefined,\n  defaultView: boolean\n) {\n  const [isInView, setIsInView] = useState(defaultView)\n\n  useEffect(() => {\n    if (!elem || isInView) return\n\n    const observerCb: IntersectionObserverCallback = ([entry]: IntersectionObserverEntry[], observer) => {\n      if ((entry as any)?.isVisible || entry.isIntersecting) {\n        setIsInView(true)\n        observer.unobserve(elem)\n      }\n    }\n    const observer = new IntersectionObserver(observerCb, options)\n\n    // start observation of elem\n    observer.observe(elem)\n\n    // disconnect observer and close\n    return () => {\n      observer.disconnect()\n    }\n  }, [elem, options, isInView])\n\n  return isInView\n}\n","import { forwardRef, useMemo } from 'react'\nimport { IKImage, IKContext } from 'imagekitio-react'\nimport useDetectScrollIntoView, { LoadInView } from 'hooks/useDetectScrollIntoView'\nimport useEffectRef from 'hooks/useEffectRef'\nimport styled from 'styled-components/macro'\n\nexport type ImageKitTransformation = { [x: string]: undefined | number | string | boolean }[]\n\ninterface BaseImageProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n  pathSrcSet?: { [sizekey: string | number]: string }\n  lq?: boolean\n  lazy?: boolean\n  forwardedRef?: React.ForwardedRef<any>\n  transformation?: ImageKitTransformation\n  loadInView?: LoadInView\n}\n\ntype ImagePropsWithDefaultImage = BaseImageProps & {\n  ikPath?: undefined\n  defaultPath: string\n}\n\ntype ImagePropsWithIkImage = BaseImageProps & {\n  ikPath: string\n  defaultPath?: undefined\n}\n\nexport type SmartImageProps = ImagePropsWithDefaultImage | ImagePropsWithIkImage\n\nconst StyledPicture = styled.picture`\n  height: 100%;\n`\n\nconst DEFAULT_LQ_IP = {\n  quality: 20,\n  blur: 6\n}\nconst DEFAULT_TRANSFORMATIONS = [{ pr: true }]\nconst BASE_INTERSECTION_OPTIONS = {\n  threshold: 0.1,\n  delay: 1000\n}\n\nexport function ApiImage({\n  defaultPath,\n  pathSrcSet,\n  transformation,\n  loadInView,\n  lazy,\n  lq,\n  forwardedRef\n}: ImagePropsWithDefaultImage): JSX.Element | null\nexport function ApiImage({\n  ikPath,\n  pathSrcSet,\n  transformation,\n  loadInView,\n  lazy,\n  lq,\n  forwardedRef\n}: ImagePropsWithIkImage): JSX.Element | null\nexport function ApiImage({\n  ikPath,\n  defaultPath,\n  pathSrcSet,\n  transformation = DEFAULT_TRANSFORMATIONS,\n  loadInView,\n  lazy = true,\n  lq = true,\n  forwardedRef,\n  ...rest\n}: SmartImageProps): JSX.Element | null {\n  // load if in view only!\n  const [refToSet, ref] = useEffectRef<HTMLSpanElement>(null)\n  const isInView = useDetectScrollIntoView(\n    !!loadInView?.conditionalCheck ? ref?.current : undefined,\n    {\n      ...BASE_INTERSECTION_OPTIONS,\n      root: loadInView?.container || document\n    },\n    // default view state\n    loadInView === undefined\n  )\n\n  const [LQIP, derivedTransformations] = useMemo(() => [{ ...DEFAULT_LQ_IP, active: lq }, transformation], [\n    lq,\n    transformation\n  ])\n\n  return ikPath ? (\n    <IKContext\n      publicKey={process.env.REACT_APP_IMAGEKIT_PUBLIC_KEY}\n      urlEndpoint={process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT}\n      transformationPosition=\"path\"\n      // authenticationEndpoint=\"http://www.yourserver.com/auth\"\n    >\n      {/* Observable span to detect if in view */}\n      <span ref={refToSet} />\n      <IKImage\n        // path={new URL(ikPath).pathname}\n        src={!isInView ? undefined : ikPath}\n        loading={lazy ? 'lazy' : 'eager'}\n        lqip={LQIP}\n        transformation={derivedTransformations}\n        ref={forwardedRef}\n      />\n    </IKContext>\n  ) : defaultPath ? (\n    <>\n      {/* Observable span to detect if in view */}\n      <span ref={refToSet} />\n      {\n        <StyledPicture>\n          {/* e.g [500, \"shopify.com/thing_500.px\"] // [1280, \"shopify.com/thing_1280.px\"] */}\n          {pathSrcSet &&\n            Object.entries(pathSrcSet).map(([size, url]) => (\n              <source key={url} media={`(max-width: ${size}px)`} srcSet={url} />\n            ))}\n          <img src={!isInView ? undefined : defaultPath} loading=\"lazy\" ref={forwardedRef} {...rest} />\n        </StyledPicture>\n      }\n    </>\n  ) : null\n}\n\nconst SmartImg = forwardRef((props: SmartImageProps, ref) => <ApiImage {...(props as any)} forwardedRef={ref} />)\nSmartImg.displayName = 'SmartImg'\n\nexport default SmartImg\n","import { useState, useRef, useEffect, MutableRefObject } from 'react'\n\nexport default function useEffectRef<T>(defaultRefValue: any) {\n  const [refToObserve, setRefToObserve] = useState<MutableRefObject<T>>()\n  const refToSet = useRef<T>(defaultRefValue)\n  useEffect(() => {\n    setRefToObserve(refToSet)\n  }, [])\n\n  return [refToSet, refToObserve ?? null]\n}\n","import { SetStateAction, useState, useCallback } from 'react'\n\nexport default function useStateRef<T>(\n  defaultRef: T,\n  processNode: (node: any) => SetStateAction<T>\n): [T, (newNode: any) => void] {\n  const [node, setNode] = useState<T>(defaultRef)\n\n  const setRef = useCallback(\n    newNode => {\n      setNode(processNode(newNode))\n    },\n    [processNode]\n  )\n  return [node, setRef]\n}\n","import { useEffect } from 'react'\n\nexport default function useOnResize(callback: (...params: any[]) => any, ...deps: any[]) {\n  useEffect(() => {\n    window.addEventListener('resize', callback)\n\n    return () => {\n      window.removeEventListener('resize', callback)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [callback, ...deps])\n}\n","import { CURRENT_DROP } from 'constants/config'\n\ntype ItemUrlProps = { drop?: string | number; identifier: string }\nexport function buildItemUrl({ drop = CURRENT_DROP, identifier }: ItemUrlProps) {\n  // TODO: reenable itemKey\n  return `/drop-${drop}/${identifier}`\n}\n","import styled from 'styled-components/macro'\nimport { fadeInAnimation } from 'pages/SingleItem/styleds'\nimport { DEFAULT_IK_TRANSFORMS } from 'constants/config'\nimport { fromExtraLarge, fromLarge, fromMedium, fromSmall } from 'theme/utils'\nimport { MEDIA_WIDTHS } from 'theme/styles/mediaQueries'\n\nconst BG_RATIO = 2.182\nconst BG_HEIGHT_RATIOS = {\n  extraSmall: MEDIA_WIDTHS.upToExtraSmall / BG_RATIO,\n  small: MEDIA_WIDTHS.upToSmall / BG_RATIO,\n  medium: MEDIA_WIDTHS.upToMedium / BG_RATIO,\n  large: MEDIA_WIDTHS.upToLarge / BG_RATIO,\n  extraLarge: MEDIA_WIDTHS.upToExtraLarge / BG_RATIO\n}\nconst portugalBg = `${process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT}/portugal-bg_Rqj8jTKhFmds.jpg?tr=${DEFAULT_IK_TRANSFORMS.HQ}`\nconst portugalBgLq = `${process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT}/portugal-bg_Rqj8jTKhFmds.jpg?tr=${DEFAULT_IK_TRANSFORMS.LQ},w-1,h-1`\n\nexport const ArticleFadeInContainer = styled.article`\n  overflow: hidden;\n\n  // load extra small size\n  background-image: url(${portugalBg},w-${MEDIA_WIDTHS.upToExtraSmall},h-${\n  BG_HEIGHT_RATIOS.extraSmall\n}), url(${portugalBgLq}:w-${MEDIA_WIDTHS.upToExtraSmall},h-${BG_HEIGHT_RATIOS.extraSmall});\n  // from small\n  ${fromSmall`\n    background-image: url(${portugalBg},w-${MEDIA_WIDTHS.upToSmall},h-${BG_HEIGHT_RATIOS.small}), url(${portugalBgLq}:w-${MEDIA_WIDTHS.upToSmall},h-${BG_HEIGHT_RATIOS.small});\n  `}\n  // from med\n  ${fromMedium`\n    background-image: url(${portugalBg},w-${MEDIA_WIDTHS.upToMedium},h-${BG_HEIGHT_RATIOS.medium}), url(${portugalBgLq}:w-${MEDIA_WIDTHS.upToMedium},h-${BG_HEIGHT_RATIOS.medium});\n  `}\n  // from large\n  ${fromLarge`\n    background-image: url(${portugalBg},w-${MEDIA_WIDTHS.upToLarge},h-${BG_HEIGHT_RATIOS.large}), url(${portugalBgLq}:w-${MEDIA_WIDTHS.upToLarge},h-${BG_HEIGHT_RATIOS.large});\n  `}\n  // from xl\n  ${fromExtraLarge`\n    background-image: url(${portugalBg},w-${MEDIA_WIDTHS.upToExtraLarge},h-${BG_HEIGHT_RATIOS.extraLarge}), url(${portugalBgLq}:w-${MEDIA_WIDTHS.upToExtraLarge},h-${BG_HEIGHT_RATIOS.extraLarge});\n  `}\n  \n  background-size: contain;\n  \n  // animation\n  filter: contrast(1) blur(0px);\n  ${fadeInAnimation};\n  animation-name: fadeIn;\n  animation-duration: 0.8s;\n`\n","import { UAParser } from 'ua-parser-js'\n\nexport function escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\n}\n\nconst parser = new UAParser(window.navigator.userAgent)\nconst { type } = parser.getDevice()\n\nexport const userAgent = parser.getResult()\n\nexport const isMobile = type === 'mobile' || type === 'tablet'\n\nexport const isTruthy = <T>(value: T | null | undefined | false): value is T => !!value\n\nexport const delay = <T = void>(ms = 100, result?: T): Promise<T> =>\n  new Promise(resolve => setTimeout(resolve, ms, result))\n\nexport function withTimeout<T>(promise: Promise<T>, ms: number, context?: string): Promise<T> {\n  const failOnTimeout = delay(ms).then(() => {\n    const errorMessage = 'Timeout after ' + ms + ' ms'\n    throw new Error(context ? `${context}. ${errorMessage}` : errorMessage)\n  })\n\n  return Promise.race([promise, failOnTimeout])\n}\n\nexport function isPromiseFulfilled<T>(\n  promiseResult: PromiseSettledResult<T>\n): promiseResult is PromiseFulfilledResult<T> {\n  return promiseResult.status === 'fulfilled'\n}\n\n// To properly handle PromiseSettleResult which returns and object\nexport function getPromiseFulfilledValue<T, E = undefined>(\n  promiseResult: PromiseSettledResult<T>,\n  nonFulfilledReturn: E\n) {\n  return isPromiseFulfilled(promiseResult) ? promiseResult.value : nonFulfilledReturn\n}\n\nexport const registerOnWindow = (registerMapping: Record<string, any>) => {\n  Object.entries(registerMapping).forEach(([key, value]) => {\n    ;(window as any)[key] = value\n  })\n}\n\n/**\n * Returns true if the string value is zero in hex\n * @param hexNumberString\n */\nexport function isZero(hexNumberString: string) {\n  return /^0x0*$/.test(hexNumberString)\n}\n\n// shitty array \"randomiser\"\nexport function randomiseArray(arr: any[]) {\n  const randomIndex = Math.round(Math.random() * arr.length)\n\n  // 0 index, return original arr\n  if (!randomIndex) return arr\n\n  const adjustedArrEnd = arr.slice(randomIndex)\n  const adjustedArrBeg = arr.slice(0, randomIndex - 1)\n  const newFirstItem = arr[randomIndex - 1]\n\n  return [newFirstItem, ...adjustedArrBeg, ...adjustedArrEnd]\n}\n","import SmartImg, { SmartImageProps } from 'components/SmartImg'\nimport { LoadInView } from 'hooks/useDetectScrollIntoView'\nimport useOnResize from 'hooks/useOnResize'\nimport useStateRef from 'hooks/useStateRef'\nimport { useState, useMemo, /* useRef, */ useEffect, forwardRef, ForwardedRef } from 'react'\nimport { ChevronLeft, ChevronRight } from 'react-feather'\nimport {\n  CarouselContainer,\n  CarouselStep as CarouselStepContainer,\n  CarouselButtonContainer,\n  CarouselButton\n} from './styleds'\n\nexport type GenericImageSrcSet = { defaultUrl: string } & { [sizeKey: string]: string }\nexport type CarouselProps = {\n  fixedHeight?: string\n  buttonColor: string\n  imageList: GenericImageSrcSet[]\n  transformation?: SmartImageProps['transformation']\n  mediaStartIndex: number\n  showCarouselContentIndicators?: boolean\n  loadInViewOptions?: LoadInView\n  catalogView?: boolean\n  fullSizeContent?: boolean\n  onCarouselChange?: (index: number) => void\n  onImageClick?: () => void\n}\n\ntype CarouselStepsProps = Pick<CarouselProps, 'buttonColor' | 'showCarouselContentIndicators' | 'onImageClick'> & {\n  index: number\n  imageProps: SmartImageProps\n  parentWidth: number\n  transformAmount: number\n  isMultipleCarousel: boolean\n\n  forwardedRef?: ForwardedRef<unknown>\n\n  onNext: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\n  onPrev: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void\n}\n\nfunction CarouselStepWithoutRef(props: CarouselStepsProps) {\n  const {\n    index,\n    imageProps,\n    buttonColor,\n    transformAmount,\n    parentWidth,\n    showCarouselContentIndicators,\n    isMultipleCarousel,\n    forwardedRef,\n    onImageClick,\n    onNext,\n    onPrev\n  } = props\n\n  return (\n    <CarouselStepContainer\n      ref={forwardedRef ?? null}\n      id={'carousel-step-' + index}\n      justifyContent=\"center\"\n      $transformAmount={transformAmount}\n      $width={parentWidth}\n    >\n      <SmartImg {...imageProps} />\n      {showCarouselContentIndicators && isMultipleCarousel && (\n        <CarouselButtonContainer onClick={onImageClick}>\n          <CarouselButton onClick={onPrev} buttonColor={buttonColor}>\n            <ChevronLeft />\n          </CarouselButton>\n          <CarouselButton onClick={onNext} buttonColor={buttonColor}>\n            <ChevronRight />\n          </CarouselButton>\n        </CarouselButtonContainer>\n      )}\n    </CarouselStepContainer>\n  )\n}\n\nconst CarouselStep = forwardRef(function CarouselStep(props: CarouselStepsProps, ref) {\n  return <CarouselStepWithoutRef {...props} forwardedRef={ref} />\n})\n\nexport default function Carousel({\n  fixedHeight,\n  buttonColor,\n  imageList,\n  transformation,\n  mediaStartIndex,\n  showCarouselContentIndicators = true,\n  loadInViewOptions,\n  fullSizeContent,\n  onCarouselChange,\n  onImageClick\n}: CarouselProps) {\n  const [parentWidth, setParentWidth] = useState<number | undefined>()\n  const [selectedStep, setSelectedStep] = useState(mediaStartIndex)\n\n  const { isMultipleCarousel, lastStepIndex } = useMemo(\n    () => ({\n      isMultipleCarousel: imageList.length > 0,\n      lastStepIndex: imageList.length - 1\n    }),\n    [imageList.length]\n  )\n\n  // ref to carousel container\n  const [carouselContainer, setCarouselContainerRef] = useStateRef<HTMLDivElement | null>(null, node => node)\n  // set carouselContainer states and focus carousel\n  useEffect(() => {\n    setParentWidth(carouselContainer?.parentElement?.offsetWidth)\n\n    carouselContainer?.focus()\n  }, [carouselContainer])\n\n  // get a carouselContainer to the carouselboi\n  // we need to hold and updated cache of the carousel parent's width in px\n  useOnResize(\n    function handleResize() {\n      setParentWidth(carouselContainer?.parentElement?.offsetWidth)\n    },\n    parentWidth,\n    carouselContainer?.parentElement?.offsetWidth\n  )\n\n  const smartImageTransformation = useMemo(\n    () => [\n      {\n        width: carouselContainer?.clientWidth,\n        pr: true\n      }\n    ],\n    [carouselContainer?.clientWidth]\n  )\n\n  return (\n    <CarouselContainer\n      id=\"#carousel-container\"\n      ref={setCarouselContainerRef}\n      fixedHeight={fixedHeight || parentWidth + 'px'}\n    >\n      {/* CAROUSEL CONTENT */}\n      {imageList.map(({ defaultUrl, ...urlRest }, index) => {\n        if (!parentWidth) return null\n        const isCurrentStep = index === selectedStep\n        // has multiple steps and is on last item\n        const isLastStep = isMultipleCarousel && selectedStep === lastStepIndex\n        const calculatedWidth = isCurrentStep ? 0 : parentWidth\n\n        const onNext = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          e.stopPropagation()\n          let indexToSet = undefined\n          if (isLastStep) {\n            indexToSet = 0\n          } else {\n            indexToSet = selectedStep + 1\n          }\n          // change carousel slide\n          setSelectedStep(indexToSet)\n          // side effect change item video\n          onCarouselChange && onCarouselChange(indexToSet)\n        }\n\n        const onPrevious = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          e.stopPropagation()\n          let indexToSet = undefined\n          if (selectedStep === 0) {\n            indexToSet = lastStepIndex\n          } else {\n            indexToSet = selectedStep - 1\n          }\n          // change carousel slide\n          setSelectedStep(indexToSet)\n          // side effect change item video\n          onCarouselChange && onCarouselChange(indexToSet)\n        }\n\n        return (\n          <CarouselStep\n            key={index}\n            index={index}\n            parentWidth={parentWidth}\n            transformAmount={calculatedWidth}\n            showCarouselContentIndicators={showCarouselContentIndicators}\n            isMultipleCarousel={isMultipleCarousel}\n            buttonColor={buttonColor}\n            // cbs&handlers\n            onNext={onNext}\n            onPrev={onPrevious}\n            onImageClick={onImageClick}\n            // image props\n            imageProps={{\n              defaultPath: defaultUrl,\n              pathSrcSet: fullSizeContent ? undefined : urlRest,\n              transformation: transformation || smartImageTransformation,\n              loadInView: loadInViewOptions\n            }}\n          />\n        )\n      })}\n    </CarouselContainer>\n  )\n}\n","import { ForwardedRef, forwardRef, ReactNode, useEffect, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nimport Loader from 'components/Loader'\nimport { Row } from 'components/Layout'\n\nimport useDetectScrollIntoView from 'hooks/useDetectScrollIntoView'\n\nimport { ItemHeader } from 'pages/SingleItem/styleds'\n\nimport { ThemeModes } from 'theme/styled'\nimport { getThemeColours } from 'theme/utils'\nimport { BoxProps } from 'rebass'\n\ntype WithContainer = {\n  container: HTMLElement | null | undefined\n}\n\ntype LazyVideoProps = {\n  sourcesProps: React.DetailedHTMLProps<React.SourceHTMLAttributes<HTMLSourceElement>, HTMLSourceElement>[]\n  videoProps?: React.DetailedHTMLProps<React.VideoHTMLAttributes<HTMLVideoElement>, HTMLVideoElement>\n  loadInView?: boolean\n  Loader?: (...props: any[]) => JSX.Element\n} & WithContainer &\n  BoxProps\n\nconst VideoContainer = styled(Row)`\n  position: relative;\n\n  > ${ItemHeader} {\n    position: absolute;\n    right: 15%;\n    letter-spacing: -8px;\n    font-size: 7.6rem;\n  }\n\n  > svg {\n    position: absolute;\n    right: 30%;\n    z-index: 200;\n  }\n`\n\nconst Spinner = ({ label = 'pstl' }: { label?: ReactNode }) => (\n  <>\n    <ItemHeader itemColor={getThemeColours(ThemeModes.CHAMELEON).blue1} animation>\n      {label}\n    </ItemHeader>\n    <Loader size={'100px'} />\n  </>\n)\n\nconst BASE_VIDEO_PROPS = { loop: true, muted: true, autoPlay: true, preload: 'none' }\nconst BASE_INTERSECTION_OPTIONS = {\n  threshold: 0.1,\n  trackVisibility: true,\n  delay: 300\n}\n\nexport default forwardRef(function LazyVideo(\n  {\n    sourcesProps,\n    videoProps = {},\n    // useful for setting when setup is animated\n    // e.g useSprings animating components\n    // and we dont want to check if in view before animation ends\n    loadInView = true,\n    container,\n    Loader = Spinner,\n    ...boxProps\n  }: LazyVideoProps,\n  forwardRef: ForwardedRef<HTMLVideoElement>\n) {\n  const [dataLoaded, setDataLoaded] = useState(false)\n  const [metaDataLoaded, setMetaDataLoaded] = useState(false)\n  const loaded = metaDataLoaded && dataLoaded\n\n  const [videoElement, setVideoElement] = useState<HTMLVideoElement | null>(null)\n\n  // forwardedRef in use, we need to assing our internal ref to the external\n  useEffect(() => {\n    if (forwardRef && videoElement) {\n      typeof forwardRef === 'function' && forwardRef(videoElement)\n    }\n  }, [forwardRef, videoElement])\n\n  useEffect(() => {\n    const _handleDataLoad = () => setDataLoaded(true)\n    const _handleMetaDataLoad = () => setMetaDataLoaded(true)\n\n    let video: HTMLVideoElement\n    if (videoElement) {\n      video = videoElement\n\n      video.addEventListener('loadeddata', _handleDataLoad)\n      video.addEventListener('loadedmetadata', _handleMetaDataLoad)\n    }\n\n    return () => {\n      video?.removeEventListener('loadeddata', _handleDataLoad)\n      video?.removeEventListener('loadedmetadata', _handleMetaDataLoad)\n    }\n  }, [videoElement])\n\n  const isInView = useDetectScrollIntoView(\n    loadInView ? videoElement : undefined,\n    {\n      ...BASE_INTERSECTION_OPTIONS,\n      root: container\n    },\n    !loadInView\n  )\n\n  return (\n    <VideoContainer justifyContent=\"center\" {...boxProps}>\n      {!loaded && <Loader />}\n      <video {...BASE_VIDEO_PROPS} {...videoProps} ref={setVideoElement}>\n        {isInView\n          ? sourcesProps.map(({ src, ...sourceProps }, index) => <source key={index} src={src} {...sourceProps} />)\n          : null}\n      </video>\n    </VideoContainer>\n  )\n})\n","import { useCallback, useEffect, useState } from 'react'\n\nimport { ItemSubHeader, VideoContentWrapper, VideoControlButton } from './styleds'\nimport LazyVideo from 'components/LazyVideo'\nimport { Spinner } from 'theme'\nimport { FragmentProductVideoFragment } from 'shopify/graphql/types'\nimport { ButtonVariations } from 'components/Button'\nimport { Play, Pause } from 'react-feather'\n\ninterface Params {\n  videos: FragmentProductVideoFragment[]\n  firstPaintOver?: boolean\n  currentCarouselIndex: number\n}\nconst CONTROL_BUTTON_SIZE = 12\nexport const ItemVideoContent = ({ videos, currentCarouselIndex, firstPaintOver }: Params) => {\n  const [videoStatus, setVideoStatus] = useState<'PLAYING' | 'PAUSED' | undefined>(undefined)\n  const [videoElement, setVideoElement] = useState<HTMLVideoElement | null>(null)\n\n  useEffect(() => {\n    if (!videoElement) return\n\n    function handleOnPlaying() {\n      setVideoStatus('PLAYING')\n    }\n\n    function handleOnPaused() {\n      setVideoStatus('PAUSED')\n    }\n\n    videoElement.addEventListener('playing', handleOnPlaying)\n    videoElement.addEventListener('pause', handleOnPaused)\n\n    return () => {\n      videoElement.removeEventListener('playing', handleOnPlaying)\n      videoElement.removeEventListener('pause', handleOnPaused)\n    }\n  }, [videoElement])\n\n  const isPaused = videoStatus === 'PAUSED'\n\n  const toggleVideo = useCallback(() => {\n    if (!videoElement) return\n\n    if (isPaused) {\n      videoElement.play()\n    } else {\n      videoElement.pause()\n    }\n  }, [isPaused, videoElement])\n\n  return (\n    <>\n      <VideoContentWrapper id=\"#video-content-wrapper\">\n        {videos.map(({ id, sources }, index) => {\n          const isSelected = index === currentCarouselIndex\n          if (!isSelected) return null\n\n          return (\n            <LazyVideo\n              key={id}\n              ref={setVideoElement}\n              container={document.querySelector('#CATALOG-ARTICLE') as HTMLElement}\n              loadInView={firstPaintOver}\n              videoProps={{\n                style: {\n                  marginLeft: 'auto'\n                }\n              }}\n              sourcesProps={sources\n                .map(({ url, mimeType }) => ({ src: url, type: mimeType }))\n                .filter(({ type }) => type === 'video/mp4')}\n              height=\"100%\"\n              Loader={Spinner}\n              onClick={toggleVideo}\n            />\n          )\n        })}\n      </VideoContentWrapper>\n      {videoStatus && (\n        <VideoControlButton variant={ButtonVariations.SECONDARY} onClick={toggleVideo}>\n          <ItemSubHeader>\n            {isPaused ? (\n              <Play color=\"ghostwhite\" fill=\"ghostwhite\" size={CONTROL_BUTTON_SIZE} />\n            ) : (\n              <Pause color=\"ghostwhite\" fill=\"ghostwhite\" size={CONTROL_BUTTON_SIZE} />\n            )}\n          </ItemSubHeader>\n        </VideoControlButton>\n      )}\n    </>\n  )\n}\n","import { useState } from 'react'\nimport styled from 'styled-components/macro'\nimport { transparentize } from 'polished'\nimport { ProductSizes } from 'shopify/graphql/types'\nimport { DEFAULT_SIZE_SELECTED } from 'constants/config'\nimport { Row, RowProps } from 'components/Layout'\nimport { TYPE } from 'theme'\n\ntype SizeSelectorProps = Omit<RowProps, 'sizes'> & {\n  sizes: ProductSizes[]\n  color?: string\n}\n\nconst SquareSelectDiv = styled(TYPE.black)``\nconst GridSelect = styled(Row)<Pick<SizeSelectorProps, 'color'>>`\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-evenly;\n  align-items: center;\n  gap: 1px;\n  padding: 1px;\n\n  width: 100%;\n\n  > ${SquareSelectDiv} {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    background-color: #fff;\n    padding: 10px 20px;\n    text-align: center;\n    font-size: 2rem;\n    font-weight: 400;\n\n    height: 50px;\n    flex: 1 1 24%;\n\n    &:hover {\n      background-color: ${({ theme, color = theme.white }) => transparentize(0.7, color)};\n    }\n\n    transition: background-color 0.3s ease-out;\n  }\n`\n\nexport default function SizeSelector({ sizes, ...styleProps }: SizeSelectorProps) {\n  const [, setSize] = useState<ProductSizes>(DEFAULT_SIZE_SELECTED)\n  const handleSetSize = (size: ProductSizes) => setSize(size)\n\n  return (\n    <GridSelect {...styleProps}>\n      {sizes.map((size, index) => (\n        <SquareSelectDiv key={size + '_' + index} onChange={() => handleSetSize(size)}>\n          {size}\n        </SquareSelectDiv>\n      ))}\n    </GridSelect>\n  )\n}\n","import { DialogContent, DialogOverlay } from '@reach/dialog'\nimport { transparentize } from 'polished'\nimport { animated, useSpring, useTransition } from 'react-spring'\nimport { useGesture } from '@use-gesture/react'\nimport styled, { css } from 'styled-components/macro'\nimport { isMobile } from 'utils'\n\nconst AnimatedDialogOverlay = animated(DialogOverlay)\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\n  &[data-reach-dialog-overlay] {\n    z-index: 9999;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    background-color: transparent;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: ${({ theme }) => theme.modalBG};\n  }\n`\n\nconst AnimatedDialogContent = animated(DialogContent)\n// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, isLargeImageModal, ...rest }) => (\n  <AnimatedDialogContent {...rest} />\n)).attrs({\n  'aria-label': 'dialog'\n})`\n  overflow-y: auto;\n\n  overflow: hidden;\n  border: none;\n\n  &[data-reach-dialog-content] {\n    outline: none;\n    margin: 0 0 2rem 0;\n    background-color: ${({ theme }) => theme.bg0};\n    box-shadow: 0px 4px 8px 0px ${({ theme }) => transparentize(0.95, theme.shadow1)};\n    padding: 0px;\n    width: ${({ isLargeImageModal }) => (isLargeImageModal ? '90' : '50')}vh;\n    overflow-y: ${({ isLargeImageModal }) => (!isLargeImageModal ? 'auto' : 'hidden')};\n    overflow-x: hidden;\n\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\n\n    max-width: ${({ maxHeight, isLargeImageModal = false }) =>\n      css`\n        ${isLargeImageModal ? maxHeight + 'vh' : '420px'}\n      `};\n    ${({ maxHeight }) =>\n      maxHeight &&\n      css`\n        max-height: ${maxHeight}vh;\n      `}\n    ${({ minHeight }) =>\n      minHeight &&\n      css`\n        min-height: ${minHeight}vh;\n      `}\n    display: flex;\n    border-radius: 20px;\n    ${({ theme }) => theme.mediaWidth.upToMedium`\n      width: 90vw;\n      margin: 0;\n    `}\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\n    width: 100%;\n    // height: 90vh;\n\n    border-radius: 20px;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n    margin: auto;\n\n    img {\n      max-width: 180%;\n      margin: auto;\n    }\n    // TODO: remove\n    ${mobile &&\n      css`\n        width: 100vw;\n        height: 90vh;\n\n        border-radius: 20px;\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0;\n        margin: auto;\n\n        img {\n          max-width: 150%;\n        }\n      `}\n  `}\n  }\n`\n\ninterface ModalProps {\n  isLargeImageModal?: boolean\n  isOpen: boolean\n  onDismiss: () => void\n  minHeight?: number | false\n  maxHeight?: number\n  initialFocusRef?: React.RefObject<any>\n  className?: string\n  children?: React.ReactNode\n}\n\nexport default function Modal({\n  isLargeImageModal = false,\n  isOpen,\n  onDismiss,\n  minHeight = false,\n  maxHeight = 90,\n  initialFocusRef,\n  className,\n  children\n}: ModalProps) {\n  const fadeTransition = useTransition(isOpen, {\n    config: { duration: 200 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 }\n  })\n\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\n  const bind = useGesture({\n    onDrag: state => {\n      set({\n        y: state.down ? state.movement[1] : 0\n      })\n      if (state.movement[1] > 150 || (state.direction[1] > 3 && state.direction[1] > 0)) {\n        onDismiss()\n      }\n    }\n  })\n\n  return (\n    <>\n      {fadeTransition(\n        (styles, item) =>\n          item && (\n            <StyledDialogOverlay\n              className={className}\n              style={styles}\n              onDismiss={onDismiss}\n              initialFocusRef={initialFocusRef}\n              unstable_lockFocusAcrossFrames={false}\n            >\n              <StyledDialogContent\n                {...(isMobile\n                  ? {\n                      ...bind(),\n                      style: { transform: y.to(y => `translateY(${(y as number) > 0 ? y : 0}px)`) }\n                    }\n                  : {})}\n                aria-label=\"dialog content\"\n                minHeight={minHeight}\n                maxHeight={maxHeight}\n                mobile={isMobile}\n                isLargeImageModal={isLargeImageModal}\n              >\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n                {children}\n              </StyledDialogContent>\n              {isMobile && (\n                <h1\n                  onClick={onDismiss}\n                  style={{\n                    background: '#AB92E1',\n                    position: 'absolute',\n                    bottom: 0,\n                    left: 0,\n                    right: 0,\n                    margin: 10,\n                    padding: '5px 10px',\n                    textAlign: 'right'\n                  }}\n                >\n                  CLOSE\n                </h1>\n              )}\n            </StyledDialogOverlay>\n          )\n      )}\n    </>\n  )\n}\n","import Carousel, { CarouselProps } from 'components/Carousel'\nimport { CarouselContainer, CarouselStep, CarouselButtonContainer } from 'components/Carousel/styleds'\nimport Modal from 'components/Modal'\nimport styled from 'styled-components/macro'\nimport { upToSmall } from 'theme/utils'\n\nconst LargeImageModal = styled(Modal)`\n  ${upToSmall`\n  ${CarouselContainer}{\n    height: 90%;\n    margin: auto 0 0 0;\n    ${CarouselStep} {\n      // let user scroll\n      overflow: auto;\n      > ${CarouselButtonContainer} {\n        display: none;\n      }\n    }}\n  `}\n`\n\ninterface LargeImageCarouselModalProps extends CarouselProps {\n  isOpen: boolean\n  dismissModal: () => void\n  toggleModal: () => void\n}\nexport default function LargeImageCarouselModal(props: LargeImageCarouselModalProps) {\n  const { isOpen, dismissModal, ...carouselProps } = props\n  return (\n    <LargeImageModal isOpen={isOpen} onDismiss={dismissModal} isLargeImageModal>\n      <Carousel {...carouselProps} fullSizeContent />\n    </LargeImageModal>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/shipping.227664ba.svg\";","import { useEffect, useMemo, useState } from 'react'\nimport { Row } from 'components/Layout'\nimport Carousel from 'components/Carousel'\nimport {\n  ItemContainer,\n  ItemAsidePanel,\n  ItemLogo,\n  ItemDescription,\n  ItemCredits,\n  ItemArtistInfo,\n  PASTELLE_CREDIT,\n  ItemSubHeader,\n  ItemBreadcrumb,\n  MobileItemCTA,\n  InnerContainer,\n  HighlightedText,\n  ItemLogoCatalogView,\n  InnerCatalogContainer,\n  ItemContentContainer,\n  SubItemDescription\n} from './styleds'\n\nimport { useBreadcrumb } from 'components/Breadcrumb'\n\nimport { useToggleModal, useModalOpen, useCloseModals } from 'state/application/hooks'\nimport { ApplicationModal } from 'state/application/reducer'\nimport { ItemVideoContent } from './ItemVideoContent'\nimport { ScrollableContentComponentBaseProps } from 'components/ScrollingContentPage'\nimport { BoxProps } from 'rebass'\nimport SmartImg from 'components/SmartImg'\nimport { useSetOnScreenItemID } from 'state/user/hooks'\nimport {\n  FragmentProductVideoFragment,\n  FragmentProductImageFragment,\n  ProductSizes,\n  ProductArtistInfo\n} from 'shopify/graphql/types'\nimport useStateRef from 'hooks/useStateRef'\nimport SizeSelector from 'components/SizeSelector'\nimport { STORE_IMAGE_SIZES } from 'constants/config'\nimport { getImageSizeMap } from 'shopify/utils'\nimport LargeImageCarouselModal from 'components/LargeImageCarouselModal'\nimport ShippingSvg from 'assets/svg/shipping.svg'\n\nexport interface ProductPageProps {\n  bgColor: string\n  color: string\n  title: string\n  logo?: string\n  headerLogo?: string\n  navLogo?: string\n  images: FragmentProductImageFragment[]\n  videos: FragmentProductVideoFragment[]\n  // media: (FragmentProductExternalVideoFragment | FragmentProductVideoFragment)[]\n  sizes: ProductSizes[]\n  description: string\n  artistInfo?: ProductArtistInfo\n  id: string\n  catalogView?: boolean\n  noVideo?: boolean\n  noDescription?: boolean\n}\n\nexport type ItemPageDesignsProps = {\n  headerLogo?: string\n  navLogo?: string\n}\n\nfunction Breadcrumbs({\n  breadcrumbs,\n  lastCrumb,\n  ...rowProps\n}: {\n  breadcrumbs: string[]\n  lastCrumb: string | undefined\n} & BoxProps) {\n  return (\n    <Row {...rowProps} style={{ position: 'absolute', top: 0, left: 0, margin: 5, zIndex: 100 }}>\n      {breadcrumbs?.map((crumb, index) => {\n        const isLastCrumb = crumb === lastCrumb\n        return (\n          <ItemBreadcrumb key={crumb + '_' + index} to=\"/#\">\n            <span>{!isLastCrumb ? crumb : <strong>{crumb}</strong>}</span>\n            {!isLastCrumb && <span>{'//'}</span>}\n          </ItemBreadcrumb>\n        )\n      })}\n    </Row>\n  )\n}\n\nconst DEFAULT_MEDIA_START_INDEX = 0\n\nexport default function ItemPage({\n  bgColor,\n  color = '#000',\n  title,\n  logo,\n  navLogo,\n  headerLogo,\n  images = [],\n  videos = [],\n  // media,\n  sizes = [],\n  description,\n  artistInfo,\n  // TODO: re-enable id\n  // id,\n  isActive,\n  firstPaintOver,\n  loadInView,\n  catalogView = false,\n  noVideo = false,\n  noDescription = false,\n  showBreadCrumbs,\n  style,\n  handleMobileItemClick\n}: ProductPageProps &\n  ScrollableContentComponentBaseProps & {\n    style?: any\n    handleMobileItemClick?: React.MouseEventHandler<HTMLHeadingElement>\n    showBreadCrumbs: boolean\n  }) {\n  const [currentCarouselIndex, setCurrentCarouselIndex] = useState(DEFAULT_MEDIA_START_INDEX)\n  const onCarouselChange = (index: number) => setCurrentCarouselIndex(index)\n\n  // MODALS\n  const toggleModal = useToggleModal(ApplicationModal.ITEM_LARGE_IMAGE)\n  const closeModals = useCloseModals()\n  const showLargeImage = useModalOpen(ApplicationModal.ITEM_LARGE_IMAGE)\n\n  /// BREADCRUMBS\n  const breadcrumbs = useBreadcrumb()\n\n  // IMAGES\n  const imageUrls = getImageSizeMap(images)\n\n  /**\n   * SIDE EFFECTS\n   */\n  // 1. scrolling page current index set in state as on screen\n  const setOnScreenId = useSetOnScreenItemID()\n  useEffect(() => {\n    if (isActive) {\n      // TODO: use id\n      setOnScreenId(title)\n    }\n  }, [isActive, title, setOnScreenId])\n\n  // inner container ref\n  const [innerContainerRef, setRef] = useStateRef<HTMLDivElement | null>(null, node => node)\n\n  const DynamicInnerContainer = useMemo(() => (catalogView ? InnerCatalogContainer : InnerContainer), [catalogView])\n\n  // catalog display logo to use\n  const catalogLogo = navLogo || headerLogo\n\n  return (\n    <>\n      {/* Large images */}\n      <LargeImageCarouselModal\n        isOpen={isActive && showLargeImage}\n        toggleModal={toggleModal}\n        dismissModal={closeModals}\n        // Carousel props\n        buttonColor={color}\n        imageList={imageUrls}\n        transformation={[\n          {\n            width: images[0]?.width || STORE_IMAGE_SIZES.LARGE,\n            height: images[0]?.height || STORE_IMAGE_SIZES.LARGE /* , xc: 500, yc: 500 */\n          }\n        ]}\n        mediaStartIndex={currentCarouselIndex}\n        onCarouselChange={onCarouselChange}\n      />\n      {/* Item content */}\n      <ItemContainer id=\"#item-container\" style={style} catalogView={catalogView} bgColor={bgColor}>\n        <ItemAsidePanel id=\"#item-aside-panel\">\n          <DynamicInnerContainer ref={setRef}>\n            {/* Breadcrumbs */}\n            {showBreadCrumbs && (\n              <Breadcrumbs {...breadcrumbs} marginTop={'5px'} marginLeft={'5px'} marginBottom={-25} />\n            )}\n            {/* Item carousel */}\n            <Carousel\n              showCarouselContentIndicators={!catalogView}\n              buttonColor={color}\n              imageList={imageUrls}\n              mediaStartIndex={currentCarouselIndex}\n              onCarouselChange={onCarouselChange}\n              onImageClick={toggleModal}\n              loadInViewOptions={loadInView}\n              catalogView={catalogView}\n              fixedHeight={catalogView ? '100%' : undefined}\n            />\n\n            {/* Wrap everything else in a fragment */}\n            {noDescription ? null : catalogView ? (\n              <>\n                {catalogLogo ? (\n                  <ItemLogoCatalogView logoUri={catalogLogo} $bgColor=\"ghostwhite\" />\n                ) : (\n                  <ItemLogo\n                    $marginTop={\n                      innerContainerRef?.clientWidth ? `calc(${innerContainerRef?.clientWidth}px / -7)` : undefined\n                    }\n                  >\n                    {title}\n                  </ItemLogo>\n                )}\n                <MobileItemCTA\n                  alignItems=\"center\"\n                  justifyContent=\"center\"\n                  onClick={handleMobileItemClick && handleMobileItemClick}\n                >\n                  <strong style={{ marginLeft: 7 }}> VIEW MORE</strong>\n                </MobileItemCTA>\n              </>\n            ) : (\n              <>\n                <ItemLogo>\n                  {logo ? (\n                    <SmartImg\n                      ikPath={logo}\n                      transformation={[{ width: innerContainerRef?.clientWidth, quality: 100, pr: true }]}\n                      loading=\"lazy\"\n                      lq\n                    />\n                  ) : (\n                    title\n                  )}\n                </ItemLogo>\n\n                {/* ITEM CONTENT: description, credits, etc */}\n                <ItemContentContainer padding=\"0 0 3rem\">\n                  {/* Credits */}\n                  <ItemSubHeader useGradient bgColor={color} label=\"CREDIT\" margin=\"0 0 2rem\" />\n                  <ItemContentContainer padding={'0 3rem'}>\n                    <ItemCredits>\n                      {artistInfo ? (\n                        <ItemArtistInfo {...artistInfo} bgColor={color} />\n                      ) : (\n                        <HighlightedText bgColor={color}>{PASTELLE_CREDIT}</HighlightedText>\n                      )}\n                    </ItemCredits>\n                  </ItemContentContainer>\n\n                  {/* Size selector */}\n                  <ItemSubHeader useGradient bgColor={color} label=\"CHOOSE SIZE + VIEW LIVE\" />\n                  <ItemContentContainer margin=\"20px 0\" padding={'0 3rem'}>\n                    <SubItemDescription>SELECT A SIZE BELOW TO SEE IT ON THE MODEL</SubItemDescription>\n                    <SizeSelector sizes={sizes} color={bgColor} margin=\"20px 0\" />\n\n                    <SubItemDescription>\n                      **Showcase is meant to help you see what your merch in the selected size looks like on an actual\n                      person similar to your size.\n                      <br />\n                      <br />\n                      Compare that to using some dumb fucking sizing chart that never works, AND requires measuring tape\n                      that literally zero people on this planet own.\n                    </SubItemDescription>\n\n                    <SubItemDescription>\n                      <img src={ShippingSvg} /> FREE SHIPPING OVER 200€\n                    </SubItemDescription>\n                  </ItemContentContainer>\n\n                  {/* Item description */}\n                  <ItemSubHeader useGradient bgColor={color} label=\"INFO + CARE INSTRUCTIONS\" />\n                  <ItemContentContainer padding={'0 3rem'}>\n                    <ItemDescription dangerouslySetInnerHTML={{ __html: description }}></ItemDescription>\n                  </ItemContentContainer>\n                </ItemContentContainer>\n              </>\n            )}\n          </DynamicInnerContainer>\n        </ItemAsidePanel>\n        {noVideo || catalogView ? null : (\n          <ItemVideoContent\n            firstPaintOver={firstPaintOver}\n            videos={videos}\n            currentCarouselIndex={currentCarouselIndex}\n          />\n        )}\n      </ItemContainer>\n    </>\n  )\n}\n","import { useGetCatalogDetailsFromURL } from 'pages/Catalog/hooks'\n\nexport function useBreadcrumb() {\n  const [, params] = useGetCatalogDetailsFromURL()\n\n  const lastCrumb = params.slice().pop()\n  return { breadcrumbs: params, lastCrumb }\n}\n","import styled from 'styled-components/macro'\nimport { ItemSubHeader } from 'pages/SingleItem/styleds'\n\nexport type ScrollingIndicatorParams = ScrollingIndicatorStyleProps & {\n  baseContentMessage: string\n  onlyOne?: 'TOP' | 'BOTTOM'\n}\n\nexport interface ScrollingIndicatorStyleProps {\n  bgColor?: string\n  left?: string\n  top?: string\n  bottom?: string\n  padding?: string\n  height?: string\n  width?: string\n  zIndex?: number\n}\n\nconst Wrapper = styled.div<ScrollingIndicatorStyleProps>`\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: ${({ bgColor = '#fa9b6f' }) => bgColor};\n    color: ${({ color = '#000' }) => color};\n    right: 0;\n    ${({ left }) => left && `left: ${left};`}\n    ${({ top }) => top && `top: ${top};`}\n    ${({ bottom }) => bottom && `bottom: ${bottom};`}\n    height: ${({ height = '50px' }) => height};\n    width: ${({ width = '100%' }) => width};\n    padding: ${({ padding = '0 10px' }) => padding};\n    z-index: ${({ zIndex = 1 }) => zIndex};\n  `\n\nexport function ScrollingContentIndicator({\n  baseContentMessage = 'MORE CONTENT',\n  onlyOne,\n  // isLastIndex,\n  ...styleProps\n}: ScrollingIndicatorParams) {\n  return (\n    <>\n      {onlyOne !== 'BOTTOM' && (\n        <Wrapper {...styleProps} top={'0px'}>\n          <ItemSubHeader>{baseContentMessage}</ItemSubHeader>\n        </Wrapper>\n      )}\n      {onlyOne !== 'TOP' && (\n        <Wrapper {...styleProps} bottom={'0px'}>\n          <ItemSubHeader>{baseContentMessage}</ItemSubHeader>\n        </Wrapper>\n      )}\n    </>\n  )\n}\n","import { a } from '@react-spring/web'\nimport { STORE_IMAGE_SIZES } from 'constants/config'\nimport styled from 'styled-components/macro'\n\nexport const AnimatedDivContainer = styled(a.div)<{ $maxWidth?: string }>`\n  position: absolute;\n  width: 100%;\n  will-change: transform;\n\n  max-width: ${({ $maxWidth }) => ($maxWidth ? $maxWidth : 'none')};\n\n  cursor: pointer;\n\n  &:hover {\n    box-shadow: 0px 0px 50px 10px lightsalmon;\n  }\n\n  transition: box-shadow 0.2s ease-in-out;\n\n  box-shadow: 0px 1px 20px 9px #00000029;\n  border-radius: 9px;\n  overflow: hidden;\n`\n\nexport const Scroller = styled.div<{ index?: number; clientHeight?: number }>`\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  cursor: pointer;\n  // width: calc(100% - ${STORE_IMAGE_SIZES.SMALL}px);\n  z-index: 900;\n\n  touch-action: none;\n\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n    width: 100%;\n  `}\n`\n\nexport const ScrollerContainer = styled.div`\n  height: 100%;\n\n  touch-action: none;\n  transition: transform 350ms ease-in-out;\n`\n","export default __webpack_public_path__ + \"static/media/pastelle-ivory-outlined.06d3dadf.svg\";","import { useRef, useEffect, useCallback, useState } from 'react'\nimport { isMobile } from 'react-device-detect'\nimport { useGesture } from '@use-gesture/react'\nimport { SpringConfig, useSprings } from 'react-spring'\nimport useStateRef from './useStateRef'\n\nconst CONFIG = {\n  SCROLL_SPEED_COEFFICIENT: 3.2,\n  DRAG_SPEED_COEFFICIENT: 0.5\n}\nconst MAC_SPRING_CONFIG: SpringConfig = { friction: 90, tension: 280 }\n// const WHEEL_SPRING_CONFIG: SpringConfig = { friction: 40, tension: 100 }\nconst MOBILE_SPRING_CONFIG: SpringConfig = { friction: 20, tension: 50, mass: 1 }\n/**\n *\n * @param a input\n * @param b constraint 1 (can be low or high)\n * @param c constraint 2 (can be low or high)\n * @returns number closer to b or c\n */\nconst _closerTo = (a: number, b: number, c: number) => (Math.abs(c - a) >= Math.abs(b - a) ? b : c)\nfunction _getLimits(point: number, mult: number): number[] {\n  const range = point / mult\n  const highPoint = mult * Math.ceil(range)\n  const bounds = [highPoint - mult, highPoint]\n\n  return bounds\n}\nfunction _calcAnchorPos(point: number, mult: number) {\n  const [limitA, limitB] = _getLimits(point, mult)\n\n  return _closerTo(point, limitA, limitB)\n}\n\nfunction _getNearestAxisPoint(point: number, multiple: number) {\n  const anchorPoint = _calcAnchorPos(point, multiple)\n\n  return anchorPoint\n}\ninterface ScrollSpringParams {\n  i: number\n  y: number\n  dy: number\n  my: number\n  active: boolean\n  firstVis: number\n  firstVisIdx: number\n}\n\nconst MINIMUM_CATALOG_ITEM_HEIGHT = 773\n\nexport default function useScrollingPageAnimation(\n  items: any[],\n  {\n    visible = 1,\n    // fixed height - bypasses useRef\n    fixedHeight,\n    // minimum height to render catalog\n    minHeight = MINIMUM_CATALOG_ITEM_HEIGHT,\n    // snap nearest screen after scroll end\n    snapOnScroll = false,\n    scaleOptions = {\n      scaleOnScroll: 0.8,\n      initialScale: 1\n    }\n  }: {\n    scale?: number\n    visible: number\n    fixedHeight?: number\n    minHeight?: number\n    snapOnScroll?: boolean\n    scaleOptions?: {\n      scaleOnScroll?: number\n      initialScale: number\n    }\n  }\n) {\n  const prev = useRef([0, 1])\n\n  const [target, setContainerRef] = useStateRef(null, node => node)\n  const [height, setHeightRef] = useStateRef<number>(\n    0,\n    node => fixedHeight || Math.min(node?.clientHeight, minHeight) || 0\n  )\n\n  // handle window resizing\n  useEffect(() => {\n    // resize handler - update clientHeight\n    const _handleWindowResize = () => !fixedHeight && target?.clientHeight && setHeightRef(target)\n\n    window?.addEventListener('resize', _handleWindowResize)\n    // first run call\n    _handleWindowResize()\n    return () => {\n      window?.removeEventListener('resize', _handleWindowResize)\n    }\n  }, [fixedHeight, setHeightRef, target])\n\n  const setTargetRef = useCallback((node: any) => {\n    setContainerRef(node)\n    setHeightRef(node)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const [currentIndex, setCurrentIndex] = useState(prev.current[0])\n  // const [firstPaintOver, setFirstPaintOver] = useState(false)\n\n  const [restSet, setRestSet] = useState(new Set())\n\n  const [springs, api] = useSprings(\n    items.length,\n    i => ({\n      scale: scaleOptions.initialScale,\n      y: (i < items.length - 1 ? i : -1) * height,\n      onRest: () => {\n        // useful in knowing when the FIRST animation has ended\n        // like for setup\n        if (!restSet.has(i)) {\n          const map = restSet.add(i)\n          setRestSet(map)\n        }\n      }\n      // config: WHEEL_SPRING_CONFIG // MAC_SPRING_CONFIG\n    }),\n    [height]\n  )\n\n  const getIndex = useCallback((y, l = items.length) => (y < 0 ? y + l : y) % l, [items])\n  const getPos = useCallback((i, firstVisible, firstVisibleIndex) => getIndex(i - firstVisible + firstVisibleIndex), [\n    getIndex\n  ])\n\n  const calculateApiLogic = useCallback(\n    ({ i, y, dy, my, active, firstVis, firstVisIdx }: ScrollSpringParams) => {\n      const position = getPos(i, firstVis, firstVisIdx)\n      const prevPosition = getPos(i, prev.current[0], prev.current[1])\n      const rank = firstVis - (y < 0 ? items.length : 0) + position - firstVisIdx\n\n      // const configPos = dy > 0 ? position : items.length - position\n      const yPos = (-y % (height * items.length)) + height * rank\n      const scale =\n        scaleOptions?.scaleOnScroll && !isMobile && active\n          ? Math.max(1 - Math.abs(my) / height / 2, scaleOptions.scaleOnScroll)\n          : scaleOptions.initialScale\n\n      const anchorPoint = _getNearestAxisPoint(yPos, height)\n\n      // the frame at the 0 anchor point is the current one in frame\n      // set it as the current index - sets header, nav, etc\n      if (anchorPoint === 0) {\n        setCurrentIndex(i)\n      }\n\n      return {\n        y: active || !snapOnScroll ? yPos : anchorPoint,\n        scale,\n        immediate: dy < 0 ? prevPosition > position : prevPosition < position,\n        // set configs based on intertial vs non-intertial scroll\n        // s === false means intertial\n        config: isMobile ? MOBILE_SPRING_CONFIG : MAC_SPRING_CONFIG // WHEEL_SPRING_CONFIG\n      }\n    },\n    [getPos, height, items.length, scaleOptions, snapOnScroll]\n  )\n\n  const runSprings = useCallback(\n    (y, dy, my, active) => {\n      const itemPosition = Math.floor(y / height) % items.length\n      const firstVis = getIndex(itemPosition)\n      const firstVisIdx = dy < 0 ? items.length - visible - 1 : 1\n\n      api.start(i => calculateApiLogic({ i, y, dy, my, active, firstVis, firstVisIdx }))\n\n      prev.current = [firstVis, firstVisIdx]\n    },\n    [height, items.length, getIndex, visible, api, calculateApiLogic]\n  )\n\n  const wheelOffset = useRef(0)\n  const dragOffset = useRef(0)\n\n  useGesture(\n    {\n      onDrag: ({ active, offset: [, y], movement: [, my], direction: [, dy] }) => {\n        if (dy) {\n          const aY = _getNearestAxisPoint(y, height)\n          dragOffset.current = -aY ?? -y\n          const computedY = wheelOffset.current + -y / CONFIG.DRAG_SPEED_COEFFICIENT\n          runSprings(computedY, -dy, -my, active)\n        }\n      },\n      onWheel: ({ event, active, offset: [, y], movement: [, my], direction: [, dy] }) => {\n        event.preventDefault()\n\n        // we need to check the scroll type... intertial vs linear\n        // -1/1 = linear down/up scroll, respectively.\n        // false = intertial\n\n        if (dy) {\n          const aY = _getNearestAxisPoint(y, height)\n          wheelOffset.current = aY ?? y\n          const computedY = dragOffset.current + y / CONFIG.SCROLL_SPEED_COEFFICIENT\n          runSprings(computedY, dy, my, active)\n        }\n      }\n    },\n    {\n      target,\n      eventOptions: { passive: false }\n    }\n  )\n\n  return {\n    springs,\n    target,\n    setTargetRef,\n    height,\n    currentIndex,\n    // firstPaintOver,\n    restSet\n  }\n}\n","import { FixedAnimatedLoader } from 'components/Loader'\nimport { ScrollingContentIndicator, ScrollingIndicatorParams } from 'components/ScrollingIndicator'\nimport { ScrollerContainer, Scroller, AnimatedDivContainer } from './styleds'\n\nimport PastelleIvoryOutlined from 'assets/svg/pastelle-ivory-outlined.svg'\nimport useScrollingPageAnimation from 'hooks/useScrollingPageAnimation'\nimport { LoadInView } from 'hooks/useDetectScrollIntoView'\nimport { CATALOG_MAX_WIDTH } from 'constants/config'\n\ninterface ScrollingContentPageParams<D> {\n  data: D[]\n  dataItem: D | undefined\n  fixedHeight?: number\n  hideHeight?: number\n  showIndicator?: boolean\n  onContentClick?: React.MouseEventHandler<HTMLDivElement>\n  IterableComponent: (props: D & ScrollableContentComponentBaseProps) => JSX.Element\n}\n\nexport interface ScrollableContentComponentBaseProps {\n  itemIndex: number\n  isActive: boolean\n  firstPaintOver: boolean\n  loadInView?: LoadInView\n}\n\ntype Params<P> = ScrollingContentPageParams<P> & Omit<ScrollingIndicatorParams, 'isLastIndex'>\n\nexport function ScrollingContentPage<D>({\n  data,\n  dataItem,\n  fixedHeight,\n  showIndicator = true,\n  onContentClick,\n  IterableComponent,\n  ...indicatorProps\n}: Params<D>) {\n  const { springs, setTargetRef, height, currentIndex, restSet } = useScrollingPageAnimation(data, {\n    visible: 1,\n    fixedHeight,\n    snapOnScroll: false,\n    // defaults to 0.8 scale on scroll and 1 scale default\n    scaleOptions: {\n      initialScale: 0.92\n      // scaleOnScroll: 0.55\n    }\n  })\n\n  if (!dataItem) return null\n\n  return (\n    <>\n      <FixedAnimatedLoader loadText={<img src={PastelleIvoryOutlined} />} left=\"50%\" animation width=\"40vw\" />\n      <ScrollerContainer>\n        {/* scroll div */}\n        <Scroller ref={setTargetRef} onClick={onContentClick && onContentClick} />\n        {/* Were in mobile or the data passed only has 1 item, don't run loop animations */}\n        {springs.map(({ y, scale }, i) => {\n          return (\n            <AnimatedDivContainer key={i} style={{ scale, height, y }} $maxWidth={CATALOG_MAX_WIDTH + 'px'}>\n              {showIndicator && <ScrollingContentIndicator {...indicatorProps} />}\n              <IterableComponent\n                loadInView={{\n                  container: document,\n                  conditionalCheck: restSet.size === data.length\n                }}\n                firstPaintOver={restSet.size === data.length}\n                isActive={currentIndex === i}\n                itemIndex={currentIndex}\n                key={i}\n                {...data[i]}\n              />\n            </AnimatedDivContainer>\n          )\n        })}\n      </ScrollerContainer>\n    </>\n  )\n}\n","import { useCallback } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { useCurrentCollectionProductsFromUrl } from './hooks'\nimport { ScrollingContentPage } from 'components/ScrollingContentPage'\nimport AsideWithVideo from 'pages/SingleItem/AsideWithVideo'\nimport { ArticleFadeInContainer } from 'components/Layout/Article'\nimport { STORE_IMAGE_SIZES } from 'constants/config'\nimport { isMobile } from 'utils'\nimport { useOnScreenItemID } from 'state/user/hooks'\nimport { buildItemUrl } from 'utils/navigation'\n\nexport default function Catalog() {\n  const { push } = useHistory()\n  // get catalog item from data and url\n  const { products, currentProduct } = useCurrentCollectionProductsFromUrl()\n  const onScreenItemId = useOnScreenItemID()\n\n  const fixedHeight = isMobile ? 550 : undefined\n\n  const onContentClick = useCallback(() => {\n    if (onScreenItemId) {\n      push(buildItemUrl({ identifier: onScreenItemId }))\n    }\n  }, [onScreenItemId, push])\n\n  const AsideWithVideoAux = useCallback(\n    props => (\n      <AsideWithVideo\n        {...props}\n        // catalog mode\n        catalogView\n        showBreadCrumbs={false}\n        loadInView={{ container: document, conditionalCheck: true }}\n      />\n    ),\n    []\n  )\n\n  return (\n    <ArticleFadeInContainer id=\"CATALOG-ARTICLE\">\n      {products.length > 1 ? (\n        <ScrollingContentPage\n          data={products}\n          dataItem={currentProduct}\n          IterableComponent={AsideWithVideoAux}\n          baseContentMessage=\"SCROLL/DRAG FOR MORE SHIT!\"\n          width={`calc(100% - ${STORE_IMAGE_SIZES.SMALL}px)`}\n          bgColor=\"#ffffffdb\"\n          onlyOne=\"BOTTOM\"\n          showIndicator={false}\n          fixedHeight={fixedHeight}\n          onContentClick={onContentClick}\n        />\n      ) : (\n        <AsideWithVideoAux {...currentProduct} onClick={onContentClick} />\n      )}\n    </ArticleFadeInContainer>\n  )\n}\n"],"sourceRoot":""}